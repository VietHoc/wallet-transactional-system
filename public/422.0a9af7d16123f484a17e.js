(self.webpackChunkwallet_client=self.webpackChunkwallet_client||[]).push([[422],{5422:(e,r,t)=>{"use strict";t.r(r),t.d(r,{AuthModule:()=>h});var o=t(8583),s=t(8994),i=t(665),n=t(639),l=t(3071),a=t(3013),u=t(3928),c=t(4207),d=t(9529);function m(e,r){if(1&e&&(n.TgZ(0,"div",11),n._uU(1),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.hij(" ",e.errors,"")}}const p=[{path:"login",component:(()=>{class e{constructor(e,r,t,o){this.fb=e,this.userService=r,this.router=t,this.messageService=o,this.users=[{email:"tom@gmail.com",password:"12345678"},{email:"jerry@gmail.com",password:"12345678"}],this.currentUser=this.users[0],this.errors="",this.loginForm=this.fb.group({email:[this.currentUser.email,[i.kI.required,i.kI.email]],password:[this.currentUser.password,[i.kI.required,i.kI.minLength(6)]]})}ngOnInit(){}onSubmit(){this.userService.login({user:this.loginForm.value}).subscribe(e=>{localStorage.setItem("token",`Bearer ${e.token}`),this.router.navigate(["/my-wallet"]),this.messageService.add({severity:"success",summary:"SUCCESS",detail:e.message})},e=>{var r;this.errors=(null===(r=e.error.message)||void 0===r?void 0:r.join(", "))||e.error.error})}selectUser(e){this.currentUser=e,this.loginForm.patchValue({email:e.email,password:e.password})}}return e.\u0275fac=function(r){return new(r||e)(n.Y36(i.qu),n.Y36(l.K),n.Y36(s.F0),n.Y36(a.ez))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-login"]],decls:23,vars:4,consts:[[1,"form_login",3,"formGroup","ngSubmit"],[1,"mb-3"],["style","color:red;",4,"ngIf"],[1,"field","grid"],["for","email",1,"col-fixed",2,"width","300px"],[1,"col"],["id","email","formControlName","email","type","text","pInputText",""],["for","password",1,"col-fixed",2,"width","300px"],["id","password","formControlName","password","type","password","pInputText",""],["pButton","","type","submit","label","Login"],["optionLabel","email",3,"options","ngModel","ngModelChange","onChange"],[2,"color","red"]],template:function(e,r){1&e&&(n.TgZ(0,"form",0),n.NdJ("ngSubmit",function(){return r.onSubmit()}),n.TgZ(1,"h2",1),n._uU(2,"Login form"),n.qZA(),n.YNc(3,m,2,1,"div",2),n.TgZ(4,"div",3),n.TgZ(5,"label",4),n._uU(6,"Email"),n.qZA(),n.TgZ(7,"div",5),n._UZ(8,"input",6),n.qZA(),n.qZA(),n._UZ(9,"br"),n.TgZ(10,"div",3),n.TgZ(11,"label",7),n._uU(12,"Password"),n.qZA(),n.TgZ(13,"div",5),n._UZ(14,"input",8),n.qZA(),n.qZA(),n._UZ(15,"br"),n._UZ(16,"button",9),n._UZ(17,"br"),n._UZ(18,"br"),n.qZA(),n.TgZ(19,"div"),n.TgZ(20,"div"),n._uU(21,"Select user:"),n.qZA(),n.TgZ(22,"p-dropdown",10),n.NdJ("ngModelChange",function(e){return r.currentUser=e})("onChange",function(e){return r.selectUser(e.value)}),n.qZA(),n.qZA()),2&e&&(n.Q6J("formGroup",r.loginForm),n.xp6(3),n.Q6J("ngIf",r.errors),n.xp6(19),n.Q6J("options",r.users)("ngModel",r.currentUser))},directives:[i._Y,i.JL,i.sg,o.O5,i.Fj,i.JJ,i.u,u.o,c.Hq,d.Lt,i.On],styles:[".form_login[_ngcontent-%COMP%]{left:50%;top:40%;position:absolute;transform:translate(-50%,-50%);width:300px;height:500px;background-color:#ccc;padding:16px}"]}),e})()}];let g=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[s.Bz.forChild(p)],s.Bz]}),e})(),h=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[o.ez,g,i.u5,i.UX,u.j,c.hJ,d.kW]]}),e})()}}]);