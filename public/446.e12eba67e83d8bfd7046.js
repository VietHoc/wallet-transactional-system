(self.webpackChunkwallet_client=self.webpackChunkwallet_client||[]).push([[446],{7446:(e,t,s)=>{"use strict";s.r(t),s.d(t,{WalletModule:()=>v});var r=s(8583),i=s(8994),n=s(8668);class o{constructor(){this.user_id=0,this.user_email="",this.wallet_id=0,this.wallet_address=""}}var l=s(5240),a=s(639),u=s(3071),c=s(4853),d=s(3013),g=s(665),h=s(3928),Z=s(4207),p=s(6516);function m(e,t){if(1&e&&(a.TgZ(0,"h5",18),a._uU(1),a.qZA()),2&e){const e=a.oxw();a.xp6(1),a.hij(" ",e.errors,"")}}const q=[{path:"",component:(()=>{class e{constructor(e,t,s){this.userService=e,this.walletService=t,this.messageService=s,this.deposit=0,this.withdraw=0,this.transfer=0,this.amount=0,this.depositDescription="",this.withdrawDescription="",this.transferDescription="",this.amountDescription="",this.query="",this.users=[],this.selectedUser=new o,this.wallets=[],this.selectedWallet=new l.w}ngOnInit(){this.userService.me().subscribe(e=>{this.user=e})}onDeposit(){this.walletService.deposit(this.deposit,this.depositDescription).subscribe(e=>{this.user.balance=+this.user.balance+ +this.deposit,this.deposit=0,this.depositDescription="",this.errors=null,this.messageService.add({severity:"success",summary:"SUCCESS",detail:e.message})},e=>{var t;this.errors=(null===(t=e.error.message)||void 0===t?void 0:t.join(", "))||e.error.error})}onWithdraw(){this.walletService.withdraw(this.withdraw,this.withdrawDescription).subscribe(e=>{this.user.balance=+this.user.balance-+this.withdraw,this.withdraw=0,this.withdrawDescription="",this.errors=null,this.messageService.add({severity:"success",summary:"SUCCESS",detail:e.message})},e=>{var t;this.errors=(null===(t=e.error.message)||void 0===t?void 0:t.join(", "))||e.error.error})}onTransfer(){this.walletService.transfer(this.selectedUser.wallet_id,this.transfer,this.transferDescription).subscribe(e=>{this.user.balance=+this.user.balance-+this.transfer,this.transfer=0,this.transferDescription="",this.errors=null,this.messageService.add({severity:"success",summary:"SUCCESS",detail:e.message})},e=>{var t;this.errors=(null===(t=e.error.message)||void 0===t?void 0:t.join(", "))||e.error.error})}onTransferWallet(){var e;this.walletService.transfer(null===(e=this.selectedWallet)||void 0===e?void 0:e.id,this.amount,this.transferDescription).subscribe(e=>{this.user.balance=+this.user.balance-+this.amount,this.amount=0,this.amountDescription="",this.errors=null,this.messageService.add({severity:"success",summary:"SUCCESS",detail:e.message})},e=>{var t;this.errors=(null===(t=e.error.message)||void 0===t?void 0:t.join(", "))||e.error.error})}searchUsers(){this.userService.searchUsers(this.query).subscribe(e=>{this.users=e})}selectUser(e){this.selectedUser=e}searchWallets(){this.walletService.searchWallets(this.query).subscribe(e=>{this.wallets=e})}selectWallet(e){this.selectedWallet=e}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(u.K),a.Y36(c.X),a.Y36(d.ez))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-my-wallet"]],decls:81,vars:21,consts:[[1,"grid"],[1,"col-4","wallet--info"],[1,"mb-1"],[1,"col-8"],[1,"ml-4"],["style","color: red;",4,"ngIf"],[1,"mb-4"],[1,"mb-2"],[1,"grid","mb-4"],[1,"col-3"],["type","number","min","0","pInputText","",1,"col-3",3,"ngModel","ngModelChange"],["type","text","pInputText","",1,"col-3",3,"ngModel","ngModelChange"],["pButton","","type","button","label","Deposit",3,"click"],["pButton","","type","button","label","Withdraw",3,"click"],["field","user_email","placeholder","Ex: jerry@gmail.com",1,"col-3",3,"ngModel","autofocus","size","suggestions","ngModelChange","completeMethod","onSelect"],["type","number","pInputText","",1,"col-3",3,"ngModel","ngModelChange"],["pButton","","type","button","label","Transfer",3,"click"],["field","description","placeholder","Ex: 4bfc1524-ccd3-490a-9dee-a0c1a46c8bc0",1,"col-4",3,"ngModel","autofocus","size","suggestions","ngModelChange","completeMethod","onSelect"],[2,"color","red"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"h3"),a._uU(3,"My wallet"),a.qZA(),a.TgZ(4,"div",2),a._uU(5," Email: "),a.TgZ(6,"strong"),a._uU(7),a.qZA(),a.qZA(),a.TgZ(8,"div",2),a._uU(9," Balance: "),a.TgZ(10,"strong"),a._uU(11),a.qZA(),a.qZA(),a.TgZ(12,"div",2),a._uU(13," Wallet address: "),a.TgZ(14,"strong"),a._uU(15),a.qZA(),a.qZA(),a.qZA(),a.TgZ(16,"div",3),a.TgZ(17,"div",4),a.TgZ(18,"h3"),a._uU(19,"Action"),a.qZA(),a.YNc(20,m,2,1,"h5",5),a.TgZ(21,"div",6),a.TgZ(22,"h4",7),a._uU(23," Deposit money "),a.qZA(),a.TgZ(24,"div"),a.TgZ(25,"div",8),a.TgZ(26,"span",9),a._uU(27,"Amount: "),a.qZA(),a.TgZ(28,"input",10),a.NdJ("ngModelChange",function(e){return t.deposit=e}),a.qZA(),a.qZA(),a.TgZ(29,"div",0),a.TgZ(30,"span",9),a._uU(31,"Description: "),a.qZA(),a.TgZ(32,"input",11),a.NdJ("ngModelChange",function(e){return t.depositDescription=e}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(33,"button",12),a.NdJ("click",function(){return t.onDeposit()}),a.qZA(),a.qZA(),a.TgZ(34,"div",6),a.TgZ(35,"h4",7),a._uU(36," Withdraw money: "),a.qZA(),a.TgZ(37,"div"),a.TgZ(38,"div",8),a.TgZ(39,"span",9),a._uU(40,"Amount: "),a.qZA(),a.TgZ(41,"input",10),a.NdJ("ngModelChange",function(e){return t.withdraw=e}),a.qZA(),a.qZA(),a.TgZ(42,"div",0),a.TgZ(43,"span",9),a._uU(44,"Description: "),a.qZA(),a.TgZ(45,"input",11),a.NdJ("ngModelChange",function(e){return t.withdrawDescription=e}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(46,"button",13),a.NdJ("click",function(){return t.onWithdraw()}),a.qZA(),a.qZA(),a.TgZ(47,"div",6),a.TgZ(48,"h4",7),a._uU(49," Transfer money to user or user wallet: "),a.qZA(),a.TgZ(50,"div"),a.TgZ(51,"div",8),a.TgZ(52,"span",9),a._uU(53,"Find user or user wallet address:"),a.qZA(),a.TgZ(54,"p-autoComplete",14),a.NdJ("ngModelChange",function(e){return t.query=e})("completeMethod",function(){return t.searchUsers()})("onSelect",function(e){return t.selectUser(e)}),a.qZA(),a.qZA(),a.TgZ(55,"div",8),a.TgZ(56,"span",9),a._uU(57,"Amount: "),a.qZA(),a.TgZ(58,"input",15),a.NdJ("ngModelChange",function(e){return t.transfer=e}),a.qZA(),a.qZA(),a.TgZ(59,"div",0),a.TgZ(60,"span",9),a._uU(61,"Description: "),a.qZA(),a.TgZ(62,"input",11),a.NdJ("ngModelChange",function(e){return t.transferDescription=e}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(63,"button",16),a.NdJ("click",function(){return t.onTransfer()}),a.qZA(),a.qZA(),a.TgZ(64,"div",6),a.TgZ(65,"h4",7),a._uU(66," Transfer money to a wallet: (User , Team or Stock) "),a.qZA(),a.TgZ(67,"div"),a.TgZ(68,"div",8),a.TgZ(69,"span",9),a._uU(70,"Find wallet by address:"),a.qZA(),a.TgZ(71,"p-autoComplete",17),a.NdJ("ngModelChange",function(e){return t.query=e})("completeMethod",function(){return t.searchWallets()})("onSelect",function(e){return t.selectWallet(e)}),a.qZA(),a.qZA(),a.TgZ(72,"div",8),a.TgZ(73,"span",9),a._uU(74,"Amount: "),a.qZA(),a.TgZ(75,"input",15),a.NdJ("ngModelChange",function(e){return t.amount=e}),a.qZA(),a.qZA(),a.TgZ(76,"div",0),a.TgZ(77,"span",9),a._uU(78,"Description: "),a.qZA(),a.TgZ(79,"input",11),a.NdJ("ngModelChange",function(e){return t.amountDescription=e}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(80,"button",16),a.NdJ("click",function(){return t.onTransferWallet()}),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(7),a.Oqu(null==t.user?null:t.user.email),a.xp6(4),a.AsE("",(+(null==t.user?null:t.user.balance)).toFixed(2)," ",null==t.user?null:t.user.currency,""),a.xp6(4),a.Oqu(null==t.user?null:t.user.wallet_address),a.xp6(5),a.Q6J("ngIf",t.errors),a.xp6(8),a.Q6J("ngModel",t.deposit),a.xp6(4),a.Q6J("ngModel",t.depositDescription),a.xp6(9),a.Q6J("ngModel",t.withdraw),a.xp6(4),a.Q6J("ngModel",t.withdrawDescription),a.xp6(9),a.Q6J("ngModel",t.query)("autofocus",!0)("size",30)("suggestions",t.users),a.xp6(4),a.Q6J("ngModel",t.transfer),a.xp6(4),a.Q6J("ngModel",t.transferDescription),a.xp6(9),a.Q6J("ngModel",t.query)("autofocus",!0)("size",30)("suggestions",t.wallets),a.xp6(4),a.Q6J("ngModel",t.amount),a.xp6(4),a.Q6J("ngModel",t.amountDescription))},directives:[r.O5,g.qQ,g.wV,g.Fj,h.o,g.JJ,g.On,Z.Hq,p.Qc],styles:[".wallet--info[_ngcontent-%COMP%]{background:#ccc;border-radius:12px;padding:16px}"]}),e})(),canActivate:[n.a]}];let T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[i.Bz.forChild(q)],i.Bz]}),e})();var A=s(9529);let v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[r.ez,T,g.u5,g.UX,h.j,Z.hJ,A.kW,p.WN]]}),e})()}}]);